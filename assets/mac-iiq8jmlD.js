import{_ as E,g as T,e as N,m as I,f as B,a as c,o as u,j as e,w as a,c as f,E as U,k as s,F as k,u as i,t as b,h as R,p as F,q as L,s as M,v as z,x as O}from"./index-B7I5l2mx.js";import{E as $,a as A,b as h}from"./el-table-column-CbiQ7hMZ.js";import{b as C}from"./route-block-B_A1xBdJ.js";import"./merge-B621fjif.js";import"./flatMap-CCTw8kK3.js";import"./map-lXt_KhhD.js";import"./_baseEach-BxvR-3du.js";const j={class:"SubmitBtnDiv"},V={__name:"mac",setup(q){let d=T().proxy;const m=N([]),l=I({Visible:!1,Data:{},Open:n=>{l.Data={...n},l.Visible=!0},Close:()=>{l.Visible=!1},Submit:async()=>{let n={...l.Data};if(!n.Name||n.Name.trim()==""){d.Util.Toast("名称不能为空","error");return}if(!(await d.Biz.Call("User_Mac_Update",n)).State)return;d.Util.Toast("操作成功");let p=m.value.findIndex(r=>r.Id==n.Id);m.value[p]=n,l.Close()}});return B(async()=>{if(!await d.Biz.AutoLogin())return;let n=await d.Biz.Call("User_Mac_GetList",{});n.State&&(m.value=n.Data)}),(n,t)=>{const p=U,r=$,y=A,D=h,_=L,g=M,S=F,w=z,v=O;return u(),c(k,null,[e(D,{data:m.value,stripe:"",fit:""},{default:a(()=>[e(r,{prop:"State",label:"状态",width:"60"},{default:a(o=>[o.row.State?(u(),c(k,{key:1},[o.row.IsRuning===0?(u(),f(p,{key:0},{default:a(()=>t[5]||(t[5]=[s("离线",-1)])),_:1,__:[5]})):(u(),f(p,{key:1,type:"success"},{default:a(()=>t[6]||(t[6]=[s("在线",-1)])),_:1,__:[6]}))],64)):(u(),f(p,{key:0,type:"Info"},{default:a(()=>t[4]||(t[4]=[s("锁定",-1)])),_:1,__:[4]}))]),_:1}),e(r,{prop:"Code",label:"编码",width:"80"}),e(r,{prop:"Name",label:"名称",width:"120"},{default:a(o=>[e(y,{type:"primary",onClick:x=>i(l).Open(o.row)},{default:a(()=>[s(b(o.row.Name),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{prop:"Title",label:"标题"},{default:a(o=>[e(y,{type:"primary",onClick:x=>i(l).Open(o.row)},{default:a(()=>[s(b(o.row.Title),1)]),_:2},1032,["onClick"])]),_:1}),e(r,{prop:"YesterdaySales",label:"昨日",width:"80",align:"right"}),e(r,{prop:"TodaySales",label:"今日",width:"80",align:"right"}),e(r,{prop:"WeeklySales",label:"本周",width:"80",align:"right"}),e(r,{prop:"MonthlySales",label:"本月",width:"80",align:"right"}),e(r,{prop:"TotalSales",label:"总销量",width:"80",align:"right"})]),_:1},8,["data"]),e(v,{modelValue:i(l).Visible,"onUpdate:modelValue":t[3]||(t[3]=o=>i(l).Visible=o),title:"修改名称",top:"30px"},{default:a(()=>[e(S,{model:i(l).Data,rules:n.rules,ref:"formRef","label-width":"120px"},{default:a(()=>[e(_,{label:"编码",prop:"Code"},{default:a(()=>[e(p,null,{default:a(()=>[s(b(i(l).Data.Code),1)]),_:1})]),_:1}),e(_,{label:"名称",prop:"Name"},{default:a(()=>[e(g,{modelValue:i(l).Data.Name,"onUpdate:modelValue":t[0]||(t[0]=o=>i(l).Data.Name=o)},null,8,["modelValue"])]),_:1}),e(_,{label:"标题",prop:"Name"},{default:a(()=>[e(g,{modelValue:i(l).Data.Title,"onUpdate:modelValue":t[1]||(t[1]=o=>i(l).Data.Title=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),R("div",j,[e(w,{type:"primary",onClick:t[2]||(t[2]=o=>i(l).Submit(!1))},{default:a(()=>t[7]||(t[7]=[s("确定",-1)])),_:1,__:[7]}),e(w,{type:"danger",onClick:i(l).Close},{default:a(()=>t[8]||(t[8]=[s("取消",-1)])),_:1,__:[8]},8,["onClick"])])]),_:1},8,["modelValue"])],64)}}};typeof C=="function"&&C(V);const Q=E(V,[["__scopeId","data-v-f50d5d03"]]);export{Q as default};
